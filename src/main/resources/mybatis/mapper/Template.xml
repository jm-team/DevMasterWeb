<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Template">

	<select id="listTemplate" parameterType="paramMap" resultType="Map">
		select * from dm_project_template 
		<where>
			<if test="scope!=null">
				and scope=#{scope}
			</if>
			<if test="uid!=null">
				and uid=#{uid}
			</if>
		</where>
	</select>
	
	<select id="listSetting" parameterType="paramMap" resultType="Map">
		select * from dm_template_setting
		where tpl_id = #{tplId}
	</select>
	
	<select id="listSettingInstance" parameterType="paramMap" resultType="Map">
		select * from dm_template_setting setting, dm_setting_instance instance
		where setting.id = instance.setting_id and instance.project_id=${projectId}
	</select>
</mapper>